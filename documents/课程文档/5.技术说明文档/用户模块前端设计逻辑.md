

# 登录注册相关

## 获取验证码

验证码一分钟内不能再次请求，有效期是5分钟，每天同一个手机号最多请求5次。

验证码一般由4位或6位数字组成，4位的话，最多尝试1万次就能破解验证码，所以应对验证次数进行限制



- 用户操作: 用户输入手机号, 然后点击获取验证码.
- 前端逻辑: ajax 发起请求, 参数带上手机号.
- 后端逻辑: 获取请求参数, 生成6位数验证码, 给指定手机号发送短信, 并缓存一个30秒过期的键值, mobilephone=checkcode, 比如 135xxx=123456

用Redis实现

## 注册

手机号,用户名,密码,确认密码,前端验证码,手机短信验证,是否接受协议等

表单校验,注意防止手机号重复注册等,注册成功跳转登录界面

## 登录

+ 手机号验证码登录
+ 手机,密码登录
+ 用户名,密码登录

## 忘记密码

输入手机号,前端验证码,手机号验证码

新的登录密码,确认新的登录密码

## 获取个人信息

## 修改个人信息

修改真实姓名,身份证号码,邮箱,性别,年龄,个人头像

#### 





# 常用地址相关

### 收货地址

收件人

手机号

配送地址:省,市,区,街道,详细地址

默认地址

# 首页

## 导航栏

+ 网站图标
+ 定位,根据定位的不同,获取不同的票,全局存储,根据这个值的不同,下方列表展示当前区域的演唱会等
+ 分类:跳转分类页面
+ 搜索:跳转分类页面,只不过加上了名称模糊搜索
+ 登录:未登录与已登录状态切换。已登录状态可以下拉进入上述的**修改个人信息**菜单。以及退出登录按钮

## 轮播图

+ 公告简称图片
+ 点击公告简称图片可以查看公告详情
+ 或者可以放一些演唱会推荐，点击进入演唱会详情

## 分类

+ 展示一级分类菜单，点击进入分类页面，且分类页面相应的按钮选择

## 商品列表

根据一级菜单分类，可以先查到一级的显示的分类菜单。再到show与showSession中查找对应的演唱会。注意已下架的不显示

点击直接进入商品详情页面

## 页脚

+ 备案号
+ 客服
+ 回到顶部

# 分类页面

+ 页眉页脚和首页的一样
+ 右侧显示推荐商品，可以通过选定的类别确定
+ 上方首先展示组合查询标签，包括城市，分类，二级分类，时间
+ 时间中,可以查看已下架的演唱会信息,因为有评价之类的
+ 其次可以对查询的数据进行排序，推荐排序可以直接按weight，如果没分类，可以按相关度排序，时间排序等
+ 展示查询出来的详情，演唱会海报,名称,地点,时间,价钱，主要是通过对show,showSession,category进行多表操作
+ 随意点击即进入商品详情



# 商品详情页面

## 购买位置

+ 海报，名称，时间，城市，具体地址
+ 城市
+ 场次
+ 票档
+ 购买票数
+ 立即购买按钮（未登录将跳转登录）,跳转订单支付页面,(可以先考虑一次只能买某个场次,某个票档的若干张票)

## 其他

+ 项目详情，每个show都有个details字段存储，想办法存富文本编辑器格式，或者markdown格式
+ 购票须知，写死
+ 观演须知，写死
+ 侧边栏为你推荐,根据数据库联想推荐
+ 右边小提示声明,如不支持退换等

# 订单支付页面

配送方式可选择电子票或快递

### 电子票

+ 常用观影人选择
+ 支付方式支付宝
+ 订单信息:项目信息,座位信息,单价,数量,优惠,小计(这里涉及到的是具体的每一张票)    合计
+ 是否同意协议
+ 提交订单
+ 进入支付订单页面,设置30分钟过期等,状态为等待买家付款,
+ 订单总共分为:已取消,待付款,待使用,待评价,已完成

### 快递

+ 常用收货地址中选择
+ 常用观影人选择
+ 此功能暂时不考虑

# 评价系统

## 查看评价

+ 评价人
+ 评价时间
+ 评价星级
+ 评价图文

## 写评价

+ 在待评价里面进入评价页面,markdown或者富文本编辑器写评价并发布,跳转到该演唱会的评价页面,并且该订单进入已支付页面





# 以后可扩展功能点

+ 优惠券

+ 在线选座,JSON数据做座位图数据传输

+ 快递地址等订单的变化,订单的配送

+ 评价里的标签分类,以及点赞与回复等

+ 高并发处理，抢票高并发,分表分库拿数据库集群顶,把所有座位状态预先同步到redis里。锁座的请求先访问缓存，缓存说能卖，不好意思不能相信你，穿透到后端数据库询问状态加锁座；缓存说不能卖，那铁定不能卖。

+ 规范处理判断大量囤票等情况

+ 前端:微信小程序,app等

+ 后端:微服务架构

+ 在线客服

+ qq,微信,支付宝授权登录,二维码登录

	
	
	

# 教程

## Spring boot

+ [JavaWeb基础,可不看](https://www.bilibili.com/video/BV1Y7411K7zz?p=165)
+ [SSM,可不看](https://www.bilibili.com/video/BV1mE411X7yp?from=search&seid=13945453309870830887)
+ [SPringBoot](https://www.bilibili.com/video/BV1PE411i7CV?from=search&seid=15878694261493753291)
+ [SpringBoot项目教程,可不看](https://www.bilibili.com/video/BV1y7411y7am?p=200)

java--java web --ssm --springboot --常用工具